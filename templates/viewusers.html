{% extends "partial/maintemplate.html" %}
{% block body %}

<main role="main">

  <!-- Main jumbotron for a primary marketing message or call to action -->
  <div class="jumbotron container1">
    <div class="container">
      <br>
      {% for message in get_flashed_messages() %}
        <center><div class="alert alert-success" role="alert">{{ message }}</div></center>
       <br>
      {% endfor %}
		<h1 class="display-3"><center>IWUDB Users</center></h1>

    </div>
  </div>

  <div class="container">
        <h2>View all users by searching below:</h2><br>
        <div class="form-group row">
            <div class="col-sm-10">
              <input type="text" class="form-control" id="myInput" onkeyup="myFunction()" placeholder="Search for phage..">
            </div>
            <button type="submit" class="col-sm-2 btn btn-success">Search</button>
        </div><br>


        <h2>Or sort users based on the following categories:</h2><br>
        <div class="container">
          <div class="row">
            <div class="col-sm-6">
                <div class="container">
                    <div class="row">
                        <h4 class="col-sm-4">First Name:</h4>
                        <div class="dropdown col-sm-8">
                          <button class="btn btn-success btn-lg btn-block dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Select an option
                          </button>
                          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="/users/ASC/first_name">Ascending (A-Z)</a>
                            <a class="dropdown-item" href="/users/DESC/first_name">Descending (Z-A)</a>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="container">
                    <div class="row">
                        <h4 class="col-sm-4">Last Name:</h4>
                        <div class="dropdown col-sm-8">
                          <button class="btn btn-success btn-lg btn-block dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Select an option
                          </button>
                          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="/users/ASC/last_name">Ascending (A-Z)</a>
                            <a class="dropdown-item" href="/users/DESC/last_name">Descending (Z-A)</a>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
          </div>
            <br>
          <div class="row">
            <div class="col-sm-6">
                <div class="container">
                    <div class="row">
                        <h4 class="col-sm-4">Graduation Year:</h4>
                        <div class="dropdown col-sm-8">
                          <button class="btn btn-success btn-lg btn-block dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Select an option
                          </button>
                          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="/users/ASC/Year">Oldest - Newest</a>
                            <a class="dropdown-item" href="/users/DESC/Year">Newest - Oldest</a>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="container">
                    <div class="row">
                        <h4 class="col-sm-4">Email:</h4>
                        <div class="dropdown col-sm-8">
                          <button class="btn btn-success btn-lg btn-block dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Select an option
                          </button>
                          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="/users/ASC/email">Ascending (A-Z)</a>
                            <a class="dropdown-item" href="/users/DESC/email">Descending (Z-A)</a>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
          </div>
        </div>
  </div>
    <br><br>
<!--<input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for phage.."> &lt;!&ndash;Recently Added - Searchbar&ndash;&gt;-->
  <div class="jumbotron">
    <div class="container">
        <div class="row">
        {% for user in users %}
            <!--<div class="row" style="display:flex; flex-wrap: wrap; text-align: center;">-->
            <div class="col-3 imageSpacing">
                <div class="userForm">
                    <center>
                        <form action="{{ url_for('full_user') }}" method="get" class="caption">
                            <br>
                            <h2>{{ user.firstName }} {{ user.lastName }}</h2>
                            <br>
                            <input type="hidden" value="{{ user.username }}" name="theUser">
                            <button type="submit" class="btn btn-outline-success" id="myUL">{{ user.username }}</button>
                            <br>
                            <h2>Class of {{ user.studentYear }}</h2>
                        </form>
                    </center>
                </div>
            </div>

        {% else %}
            <p><center>There are no users in the database currently.</center></p>
        {% endfor %}
        </div>
    </div>
            <br>
            <br>
            <hr>
    </div>
</main>

{% endblock %}