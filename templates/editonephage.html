{% extends "partial/maintemplate.html" %}
{% block body %}

<main role="main">

  <!-- Main jumbotron for a primary marketing message or call to action -->
  <div class="jumbotron container1">
    <div class="container">
      <br>
      {% for message in get_flashed_messages() %}
        <center><div class="alert alert-success" role="alert">{{ message }}</div></center>
       <br>
      {% endfor %}
	  {% for phage in phages %}
		<center>
			<h1 class="display-3">Editing Existing Phage: <span style="color: rgb(12,94,64);">{{ phage.phageName }}</span></h1>
            <div class="alert alert-success" role="alert">
            The fields indicated by ** are required. Please be sure to fill those out.
            </div>
			<div class="container thumbnail"><img src="{{ phage.phageImage }}"></div>
		</center>

    </div>
  </div>
<!--<input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for phage.."> &lt;!&ndash;Recently Added - Searchbar&ndash;&gt;-->

	<div class="container">
		<div class="row">

			<div style="width: 70%; margin: 10px auto;">

            <form action="{{ url_for('update_phage') }}" method="post">
                <table class="table table-striped">
                     <input type="hidden" value="{{ phage.id }}" name="id">
                    <tr>
                        <th class="subhead" colspan="2"><center><strong>Discovery Information</strong></center></th>
                    </tr>
                    <tr>
                        <th>Phage Name:</th>
                        <td><input type="text" size="90" name="phageName" placeholder="{{ phage.phageName }}"
                                   value="{{ phage.phageName }}"></td>
                    </tr>
                    <tr>
                        <th>Phage Image:</th>
                        <td><input type="text" size="90" name="phageImage" placeholder="{{ phage.phageImage }}"
                                   value="{{ phage.phageImage }}"></td>
                    </tr>
                    <tr>
                        <th>Google Doc Images:</th>
                        <td><input type="text" size="90" name="googleDocImages" placeholder="{{ phage.googleDocImages }}"
                                   value="{{ phage.googleDocImages }}"></td>
                    </tr>
                    <tr>
                        <th>Found By:</th>
                        <td><input type="text" size="90" name="foundBy" placeholder="{{ phage.foundBy }}"
                                   value="{{ phage.foundBy }}"></td>
                    </tr>
                    <tr>
                        <th>Year Found:</th>
                        <td><input type="text" size="90" name="yearFound" placeholder="{{ phage.yearFound }}"
                                   value="{{ phage.yearFound }}"></td>
                    </tr>
                    <tr>
                        <th>City Found:</th>
                        <td><input type="text" size="90" name="cityFound" placeholder="{{ phage.cityFound }}"
                                   value="{{ phage.cityFound }}"></td>
                    </tr>
                    <tr>
                        <th>State Found:</th>
                        <td><select type="text" name="stateFound">
                                <option value="{{ phage.stateFound }}" selected="selected">{{ phage.stateFound }}</option>
                                    <option value="">------</option>
                                    <option value="AL">Alabama</option>
                                    <option value="AK">Alaska</option>
                                    <option value="AS">American Samoa</option>
                                    <option value="AZ">Arizona</option>
                                    <option value="AR">Arkansas</option>
                                    <option value="AA">Armed Forces Americas</option>
                                    <option value="AE">Armed Forces Europe</option>
                                    <option value="AP">Armed Forces Pacific</option>
                                    <option value="CA">California</option>
                                    <option value="CO">Colorado</option>
                                    <option value="CT">Connecticut</option>
                                    <option value="DE">Delaware</option>
                                    <option value="DC">District of Columbia</option>
                                    <option value="FL">Florida</option>
                                    <option value="GA">Georgia</option>
                                    <option value="GU">Guam</option>
                                    <option value="HI">Hawaii</option>
                                    <option value="ID">Idaho</option>
                                    <option value="IL">Illinois</option>
                                    <option value="IN">Indiana</option>
                                    <option value="IA">Iowa</option>
                                    <option value="KS">Kansas</option>
                                    <option value="KY">Kentucky</option>
                                    <option value="LA">Louisiana</option>
                                    <option value="ME">Maine</option>
                                    <option value="MD">Maryland</option>
                                    <option value="MA">Massachusetts</option>
                                    <option value="MI">Michigan</option>
                                    <option value="MN">Minnesota</option>
                                    <option value="MS">Mississippi</option>
                                    <option value="MO">Missouri</option>
                                    <option value="MT">Montana</option>
                                    <option value="NE">Nebraska</option>
                                    <option value="NV">Nevada</option>
                                    <option value="NH">New Hampshire</option>
                                    <option value="NJ">New Jersey</option>
                                    <option value="NM">New Mexico</option>
                                    <option value="NY">New York</option>
                                    <option value="NC">North Carolina</option>
                                    <option value="ND">North Dakota</option>
                                    <option value="MP">Northern Mariana Islands</option>
                                    <option value="OH">Ohio</option>
                                    <option value="OK">Oklahoma</option>
                                    <option value="OR">Oregon</option>
                                    <option value="PA">Pennsylvania</option>
                                    <option value="PR">Puerto Rico</option>
                                    <option value="RI">Rhode Island</option>
                                    <option value="SC">South Carolina</option>
                                    <option value="SD">South Dakota</option>
                                    <option value="TN">Tennessee</option>
                                    <option value="TX">Texas</option>
                                    <option value="UT">Utah</option>
                                    <option value="VT">Vermont</option>
                                    <option value="VI">Virgin Islands</option>
                                    <option value="VA">Virginia</option>
                                    <option value="WA">Washington</option>
                                    <option value="WV">West Virginia</option>
                                    <option value="WI">Wisconsin</option>
                                    <option value="WY">Wyoming</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <th>Country Found:</th>
                        <td><input type="text" size="90" name="countryFound" placeholder="{{ phage.countryFound }}"
                                   value="{{ phage.countryFound }}"></td>
                    </tr>
                    <tr>
                        <th>GPS Latitude:</th>
                        <td><input type="text" size="90" name="gpsLat" placeholder="{{ phage.gpsLat }}"
                                   value="{{ phage.gpsLat }}"><br>
                        <span class="helptext">GPS coordinates should be in decimal format.<br/>To convert from Degrees/Minutes/Seconds<br> or Degrees/Minutes format, use
                                <a href="http://transition.fcc.gov/mb/audio/bickel/DDDMMSS-decimal.html" target="_blank">this</a> or <a href="http://www.csgnetwork.com/gpscoordconv.html"
                                                                                                                                        target="_blank">this</a>.</span>
                        </td>
                    </tr>
                    <tr>
                        <th>GPS Longitude:</th>
                        <td><input type="text" size="90" name="gpsLong" placeholder="{{ phage.gpsLong }}"
                                   value="{{ phage.gpsLong }}"><br>
                        <span class="helptext">GPS coordinates should be in decimal format.<br/>To convert from Degrees/Minutes/Seconds<br> or Degrees/Minutes format, use
                                <a href="http://transition.fcc.gov/mb/audio/bickel/DDDMMSS-decimal.html" target="_blank">this</a> or <a href="http://www.csgnetwork.com/gpscoordconv.html"
                                                                                                                                        target="_blank">this</a>.</span>
                        </td>
                    </tr>
                    <tr>
                        <th>From Enriched Soil?:</th>
                        <td><select type="text" name="soilSample">
                                <option value="{{ phage.soilSample }}" selected="selected">{{ phage.soilSample }}</option>
                                    <option value="Unknown">Unknown</option>
                                    <option value="Yes">Yes</option>
                                    <option value="No">No</option>
                            </select>
                        </td>
                    </tr>
                        <!--<input type="text" size="90" name="soilSample" placeholder="{{ phage.soilSample }}"-->
                                   <!--value="{{ phage.soilSample }}">-->
                    <!--<tr>-->
                        <!--<th>Isolation Host:</th>-->
                        <!--&lt;!&ndash;<td><input type="text" size="90" name="isolationHost" placeholder="{{ phage.isolationHost }}"&ndash;&gt;-->
                                   <!--&lt;!&ndash;value="{{ phage.isolationHost }}">&ndash;&gt;-->
						<!--<td>Hosts you previously selected: {% for host in phageHosts %} {{ host.isolationHost }}, {% endfor %}-->
							  <!--<label for="msmeg">Mycobacterium smegmatis: </label>-->
							  <!--<input id="msmeg" type="checkbox" name="isolationHost" value="Mycobacterium smegmatis"><br>-->

							  <!--<label for="yw1">Rhodobacter capsulatus YW1: </label>-->
							  <!--<input id="yw1" type="checkbox" name="isolationHost" value="Rhodobacter capsulatus YW1"><br>-->

							  <!--<label for="yw2">Rhodobacter capsulatus YW2: </label>-->
							  <!--<input id="yw2" type="checkbox" name="isolationHost" value="Rhodobacter capsulatus YW1"><br>-->

							  <!--<label for="b10">Rhodobacter capsulatus B10: </label>-->
							  <!--<input id="b10" type="checkbox" name="isolationHost" value="Rhodobacter capsulatus B10"><br>-->

							  <!--<label for="b6">Rhodobacter capsulatus B6: </label>-->
							  <!--<input id="b6" type="checkbox" name="isolationHost" value="Rhodobacter capsulatus B6"><br>-->

							  <!--<label for="iona">Rhodobacter capsulatus IONA: </label>-->
							  <!--<input id="iona" type="checkbox" name="isolationHost" value="Rhodobacter capsulatus IONA"><br>-->

							  <!--<label for="37b4">Rhodobacter capsulatus 37B4: </label>-->
							  <!--<input id="37b4" type="checkbox" name="isolationHost" value="Rhodobacter capsulatus 37B4"><br>-->

							  <!--<label for="stlouis">Rhodobacter capsulatus St Louis: </label>-->
							  <!--<input id="stlouis" type="checkbox" name="isolationHost" value="Rhodobacter capsulatus St Louis"><br>-->
                        <!--</td>-->
                    <!--</tr>-->
                    <tr>
                        <th>Phage Discovery:</th>
                        <td><textarea name="phageDiscovery" rows="5" cols="90"
                                  placeholder="{{ phage.phageDiscovery }}">{{ phage.phageDiscovery }}</textarea>
                        </td>
                    </tr>
                        <!--<input type="text" size="90" name="phageDiscovery" placeholder="{{ phage.phageDiscovery }}"-->
                                   <!--value="{{ phage.phageDiscovery }}">-->
                    <tr>
                        <th>Phage Naming:</th>
                        <td><textarea name="phageNaming" rows="5" cols="90"
                                  placeholder="{{ phage.phageNaming }}">{{ phage.phageNaming }}</textarea>
                        </td>
                    </tr>
                        <!--<input type="text" size="90" name="phageNaming" placeholder="{{ phage.phageNaming }}"-->
                                   <!--value="{{ phage.phageNaming }}">-->
                    <tr>
                        <th>Isolation Temperature:</th>
                        <td><input type="text" size="90" name="isoTemp" placeholder="{{ phage.isoTemp }}"
                                   value="{{ phage.isoTemp }}">
                        </td>
                    </tr>
                    <tr>
                        <th class="subhead" colspan="2"><center><strong>Sequencing Information</strong></center></th>
                    </tr>
                    <tr>
                        <th>Sequence Completed?:</th>
                        <td><select type="text" name="seqCompleted">
                                <option value="{{ phage.seqCompleted }}" selected="selected">{{ phage.seqCompleted }}</option>
                                    <option value="Unknown">Unknown</option>
                                    <option value="Yes">Yes</option>
                                    <option value="No">No</option>
                            </select>
                        </td>
                    </tr>
                        <!--<input type="text" size="90" name="seqCompleted" placeholder="{{ phage.seqCompleted }}"-->
                                   <!--value="{{ phage.seqCompleted }}">-->
                    <tr>
                        <th>Sequence Facility:</th>
                        <td><input type="text" size="90" name="seqFacility" placeholder="{{ phage.seqFacility }}"
                                   value="{{ phage.seqFacility }}"></td>
                    </tr>
                    <tr>
                        <th>Sequence Method:</th>
                        <td><input type="text" size="90" name="seqMethod" placeholder="{{ phage.seqMethod }}"
                                   value="{{ phage.seqMethod }}"></td>
                    </tr>
                    <tr>
                        <th>Genome Length:</th>
                        <td><input type="text" size="90" name="genomeLength" placeholder="{{ phage.genomeLength }}"
                                   value="{{ phage.genomeLength }}"></td>
                    </tr>
                    <tr>
                        <th>Genome End:</th>
                        <td><input type="text" size="90" name="genomeEnd" placeholder="{{ phage.genomeEnd }}"
                                   value="{{ phage.genomeEnd }}"></td>
                    </tr>
                    <tr>
                        <th>Overhang Length:</th>
                        <td><input type="text" size="90" name="overhangLength" placeholder="{{ phage.overhangLength }}"
                                   value="{{ phage.overhangLength }}"></td>
                    </tr>
                    <tr>
                        <th>Overhang Seq:</th>
                        <td><input type="text" size="90" name="overhangSeq" placeholder="{{ phage.overhangSeq }}"
                                   value="{{ phage.overhangSeq }}"></td>
                    </tr>
                    <tr>
                        <th>GC Content:</th>
                        <td><input type="text" size="90" name="gcContent" placeholder="{{ phage.gcContent }}"
                                   value="{{ phage.gcContent }}"></td>
                    </tr>
                    <tr>
                        <th class="subhead" colspan="2"><center><strong>Characterization</strong></center></th>
                    </tr>
                    <tr>
                        <th>Cluster:</th>
                        <td><input type="text" size="90" name="cluster" placeholder="{{ phage.cluster }}"
                                   value="{{ phage.cluster }}"></td>
                    </tr>
                    <tr>
                        <th>Cluster Life:</th>
                        <td><input type="text" size="90" name="clusterLife" placeholder="{{ phage.clusterLife }}"
                                   value="{{ phage.clusterLife }}"></td>
                    </tr>
                    <tr>
                        <th>Annotation Status:</th>
                        <td><input type="text" size="90" name="annotateStatus" placeholder="{{ phage.annotateStatus }}"
                                   value="{{ phage.annotateStatus }}"></td>
                    </tr>
                    <tr>
                        <th>Brief Phage Morphology:</th>
                        <td><textarea name="phageMorph" rows="5" cols="90"
                                  placeholder="{{ phage.phageMorph }}">{{ phage.phageMorph }}</textarea>
                        </td>
                    </tr>
                        <!--<input type="text" size="30" name="phageMorph" placeholder="{{ phage.phageMorph }}"-->
                                   <!--value="{{ phage.phageMorph }}">-->
                    <tr>
                        <th>Morphology Type:</th>
                        <td><input type="text" size="90" name="morphType" placeholder="{{ phage.morphType }}"
                                   value="{{ phage.morphType }}">
                        </td>
                    </tr>
                    <tr>
                        <th class="subhead" colspan="2"><center><strong>Publication Information</strong></center></th>
                    </tr>
                    <tr>
                        <th>Phamerated?:</th>
                        <td><select type="text" name="phamerated">
                                <option value="{{ phage.phamerated }}" selected="selected">{{ phage.phamerated }}</option>
                                    <option value="Unknown">Unknown</option>
                                    <option value="Yes">Yes</option>
                                    <option value="No">No</option>
                            </select>
                        </td>
                    </tr>
                        <!--<input type="text" size="30" name="phamerated" placeholder="{{ phage.phamerated }}"-->
                                   <!--value="{{ phage.phamerated }}">-->
                    <tr>
                        <th>Uploaded to GenBank?:</th>
                        <td><select type="text" name="genBank">
                                <option value="{{ phage.genBank }}" selected="selected">{{ phage.genBank }}</option>
                                    <option value="Unknown">Unknown</option>
                                    <option value="Yes">Yes</option>
                                    <option value="No">No</option>
                            </select>
                        </td>
                    </tr>
                        <!--<input type="text" size="30" name="genBank" placeholder="{{ phage.genBank }}"-->
                                   <!--value="{{ phage.genBank }}">-->
                    <tr>
                        <th>GenBank Link:</th>
                        <td><input type="text" size="90" name="genBankLink" placeholder="{{ phage.genBankLink }}"
                                   value="{{ phage.genBankLink }}">
                        </td>
                    </tr>
                    <tr>
                        <th class="subhead" colspan="2"><center><strong>Archiving Information</strong></center></th>
                    </tr>
                    <tr>
                        <th>Archive Status:
                        <td><input type="text" size="90" name="archiveStatus" placeholder="{{ phage.archiveStatus }}"
                                   value="{{ phage.archiveStatus }}"></td>
                    </tr>
                    <tr>
                        <th>Freezer Box Number:</th>
                        <td><input type="text" size="90" name="freezerBoxNum" placeholder="{{ phage.freezerBoxNum }}"
                                   value="{{ phage.freezerBoxNum }}"></td>
                    </tr>
                    <tr>
                        <th>Freezer Box Grid Number:</th>
                        <td><input type="text" size="90" name="freezerBoxGridNum" placeholder="{{ phage.freezerBoxGridNum }}"
                                   value="{{ phage.freezerBoxGridNum }}"></td>
                    </tr>
                    <tr>
                        <th class="subhead" colspan="2"><center><strong>Presentation Information</strong></center></th>
                    </tr>
                    <tr>
                        <th class="subhead" colspan="2"><center><strong>Available Files</strong></center></th>
                    </tr>
                    <tr>
                        <th>Fasta File Text:</th>
                        <td><textarea name="fastaFile" rows="5" cols="90"
                                  placeholder="{{ phage.fastaFile }}">{{ phage.fastaFile }}</textarea>
                        </td>
                    </tr>
                    <tr>
                        <th>Fastq File Text:</th>
                        <td><textarea name="fastqFile" rows="5" cols="90"
                                  placeholder="{{ phage.fastqFile }}">{{ phage.fastqFile }}</textarea>
                        </td>
                    </tr>

                    <tr>
                        <th>Raw Sequence:</th>
                        <td><textarea name="rawsequenceFile" rows="5" cols="90"
                                  placeholder="{{ phage.rawsequenceFile }}">{{ phage.rawsequenceFile }}</textarea>
                        </td>
                    </tr>
                    <tr>
                        <th>Extra Text:</th>
                        <td><textarea name="extraFile" rows="5" cols="90"
                                  placeholder="{{ phage.extraFile }}">{{ phage.extraFile }}</textarea>
                        </td>
                    </tr>
                    <tr>
                        <th  class="subhead" colspan="2"><center><input type="submit" class="btn btn-lg btn-default btn-success btn-block" value="Update Info"></center></th>
                    </tr>
                </table>

            </form>
            {% else %}
			<p><center>There was a problem retrieving data for this bacteriophage. Please try again at a later time.</center></p>
    		{% endfor %}
				<a href="/phages/modify">Go Back</a>

			</div>
		</div>
		</div>
	</div>
</main>
{% endblock %}